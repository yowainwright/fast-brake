---
title: Introduction to fast-brake
description: "ES feature detection with zero runtime dependencies. Analyzes JavaScript code to detect ECMAScript features and verify compatibility with target ES versions."
---

<div className="flex flex-wrap gap-2 mb-8">
  <a href="https://badge.fury.io/js/fast-brake" target="_blank" rel="noopener noreferrer">
    <img src="https://badge.fury.io/js/fast-brake.svg" alt="npm version" />
  </a>
  <a href="https://github.com/yowainwright/fast-brake" target="_blank" rel="noopener noreferrer">
    <img src="https://img.shields.io/github/stars/yowainwright/fast-brake?style=social" alt="GitHub stars" />
  </a>
  <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">
    <img src="https://img.shields.io/badge/TypeScript-Ready-blue" alt="TypeScript Ready" />
  </a>
  <a href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener noreferrer">
    <img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT" />
  </a>
</div>

## What is fast-brake?

**fast-brake** is an ES feature detection library that analyzes JavaScript code to identify ECMAScript features and verify compatibility with target ES versions. Unlike traditional tools that rely on slow AST parsers, fast-brake uses a unique **two-phase detection system** that is faster while still maintaining high accuracy.

## Why is fast-brake Game-Changing?

### The Problem

Modern JavaScript development involves managing compatibility across different ES versions and browser targets. Traditional approaches have significant limitations:

- **AST Parsers are Slow**: Tools like Babel parser can take 100ms+ to process 1000 files
- **Build Tool Bottlenecks**: Compatibility checking becomes a performance bottleneck
- **Limited Context**: Simple regex matching without semantic understanding
- **Complex Setup**: Heavy dependencies and complex configuration requirements

```javascript
// Traditional approach - slow and heavy
import { parse } from '@babel/parser';
import traverse from '@babel/traverse';

const ast = parse(code); // Expensive parsing
traverse(ast, {
  ArrowFunctionExpression(path) {
    // Complex AST traversal
  }
});
```

### The fast-brake Solution

fast-brake revolutionizes ES feature detection with its **two-phase system**:

**Phase 1: Lightning-Fast Pattern Matching**
- Regex-based feature detection in milliseconds
- Scans for ES feature patterns across the entire codebase
- Provides initial feature candidates

**Phase 2: Intelligent Tokenizer Validation**
- Validates features in actual code contexts
- Validates features using smart tokenization
- Adds features detected through token analysis

```javascript
// fast-brake approach - simple and fast
import { detect, check, getMinimumESVersion } from 'fast-brake';

// Process 1000 files in <15ms
const features = detect(code);           // 0.013ms per file
const isCompatible = check(code, { target: 'es5' });
const minVersion = getMinimumESVersion(code);
```

## Performance Comparison

### Plugin Configuration Performance

Choose the right plugin configuration for your needs:

| Plugin Configuration | Time (ms) | Ops/sec | vs Single ES5 | Features Detected |
|---------------------|-----------|---------|---------------|-------------------|
| **Telemetry Detection** | **0.202** | **4,951** | **2.03x** | 2 |
| Single ES5 | 0.410 | 2,439 | 1.00x | 244 |
| All ES Versions | 0.427 | 2,343 | 0.96x | 244 |
| All + Browser Compat | 0.665 | 1,504 | 0.62x | 244 |
| Kitchen Sink (All) | 0.926 | 1,080 | 0.44x | 246 |

*Benchmarked on Apple M4, 2025-08-22*

### Parser Comparison - ES2015 Files

| Parser | Time (ms) | Ops/sec | Relative Speed |
|--------|-----------|---------|----------------|
| **fast-brake (pattern)** | **0.014** | **72,812** | **1.0x** |
| meriyah | 0.016 | 61,003 | 0.8x |
| cherow | 0.018 | 54,067 | 0.7x |
| esprima | 0.026 | 38,320 | 0.5x |
| @babel/parser | 0.052 | 19,152 | 0.3x |
| fast-brake (full) | 0.086 | 11,606 | 0.2x |

### Parser Comparison - ES5 Files  

| Parser | Time (ms) | Ops/sec | Relative Speed |
|--------|-----------|---------|----------------|
| **fast-brake (pattern)** | **0.009** | **110,842** | **1.0x** |
| meriyah | 0.016 | 61,811 | 0.6x |
| cherow | 0.016 | 62,570 | 0.6x |
| esprima | 0.023 | 42,832 | 0.4x |
| @babel/parser | 0.048 | 20,776 | 0.2x |
| fast-brake (full) | 0.056 | 17,871 | 0.2x |

*All benchmarks run on Apple M4, 2025-08-22*

## Key Benefits

- **ðŸš€ Fast**: Can be up to 7x faster than traditional AST parsers for its intended purpose
- **ðŸ“¦ Zero Dependencies**: Lightweight with no runtime dependencies
- **ðŸŽ¯ Two-Phase Detection**: Combines speed with accuracy
- **ðŸ›¡ï¸ Accurate Detection**: Tokenizer validates features in actual code
- **ðŸ“Š Comprehensive Coverage**: Supports ES5 through ES2025 (40+ features)
- **ðŸ”§ Simple API**: Intuitive interface with TypeScript support
- **âš¡ Performance First**: Optimized for build tools and CI/CD pipelines

## Perfect For

### Build Tools & Bundlers
```javascript
import { check } from 'fast-brake';

// Validate compatibility before bundling
if (!check(sourceCode, { target: 'es2015' })) {
  console.warn('Code requires transpilation');
}
```

### Linting & CI/CD
```javascript
import { fastBrake } from 'fast-brake';

// Fail builds on incompatible features
try {
  fastBrake(code, { target: 'es2018' });
} catch (error) {
  console.error(`Compatibility error: ${error.message}`);
  process.exit(1);
}
```

### Dynamic Polyfill Loading
```javascript
import { getMinimumESVersion } from 'fast-brake';

const requiredVersion = getMinimumESVersion(userCode);
if (requiredVersion !== 'es5') {
  loadPolyfills(requiredVersion);
}
```

### Code Analysis Tools
```javascript
import { detect } from 'fast-brake';

const features = detect(codebase);
const modernFeatures = features.filter(f => 
  ['es2020', 'es2021', 'es2022'].includes(f.version)
);
```

## Installation & Quick Start

```bash
npm install fast-brake
```

```javascript
import { fastBrake, detect, check, getMinimumESVersion } from 'fast-brake';

// Detect all ES features
const features = detect('const x = () => {}');
// [{ name: 'arrow_functions', version: 'es2015', line: 1, column: 11 }]

// Check compatibility
const isES5Compatible = check('const x = () => {}', { target: 'es5' });
// false

// Get minimum version
const minVersion = getMinimumESVersion('const x = () => {}');
// 'es2015'

// Throw on incompatible features
fastBrake('const x = () => {}', { target: 'es5' });
// Error: ES feature "arrow_functions" requires es2015 but target is es5
```

## Supported ES Features

fast-brake detects **30+ ES features** across all major versions:

- **ES2015**: Arrow functions, classes, template literals, let/const, destructuring, spread/rest, for-of loops
- **ES2016**: Exponentiation operator (**)
- **ES2017**: Async/await functions
- **ES2018**: Async iteration, rest/spread properties
- **ES2019**: Array.flat(), Array.flatMap()
- **ES2020**: Optional chaining (?.), nullish coalescing (??), BigInt, Promise.allSettled
- **ES2021**: Logical assignment (||=, &&=, ??=), numeric separators, String.replaceAll
- **ES2022**: Private fields (#), static blocks, Array.at(), Object.hasOwn(), top-level await

## Two Detection Modes

### Quick Mode - Maximum Speed
```javascript
const features = detect(code, { quick: true });
// Faster pattern matching
```

### Full Mode - Maximum Accuracy (Default)
```javascript
const features = detect(code, { quick: false });
// High accuracy with tokenizer validation, still faster than AST parsers
```

## Ready to Get Started?

fast-brake makes ES feature detection simple, fast, and accurate. Whether you're building tools, linting code, or analyzing compatibility, fast-brake delivers the performance you need without sacrificing accuracy.

[Get Started â†’](/api-reference) | [View Architecture â†’](/architecture) | [See Examples â†’](/advanced-features)